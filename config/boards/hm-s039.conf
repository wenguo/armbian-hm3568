# Rockchip RK3399 hexa core 3/4GB RAM SoC GBE eMMC USB3 USB-C WiFi/BT
# Uses the same u-boot dtb from Orangepi4 original board, but sets
# specific kernel DTB with BOOT_FDT_FILE directive
BOARD_NAME="HEMAI S039"
BOARDFAMILY="rockchip64" # Used to be rk3399
BOARD_MAINTAINER="wenguoliu"
BOOTCONFIG="evb-rk3399_defconfig"
BOOT_FDT_FILE="rockchip/rk3399-hm-s039.dtb"
KERNEL_TARGET="current,edge,vendor"
FULL_DESKTOP="yes"
ASOUND_STATE="asound.state.rt5651"
BOOT_LOGO="desktop"
BOOTBRANCH_BOARD="tag:v2022.04"
BOOTPATCHDIR="u-boot-rockchip64-v2022.04"
#declare -g KERNEL_MAJOR_MINOR="6.1"    # Major and minor versions of this kernel.
#declare -g -i KERNEL_GIT_CACHE_TTL=120 # 2 minutes; this is a high-traffic repo
#KERNELSOURCE='https://github.com/armbian/linux-rockchip.git'
#KERNELBRANCH="branch:rk-6.1-rkr1"
#KERNELPATCHDIR="rockchip-vendor-6.1"

function post_family_tweaks_bsp__hms039() {
	display_alert "Installing BSP firmware and fixups"


	return 0
}


# function post_family_config_branch_hm_s039_kernel() {
# 	declare -g KERNELSOURCE='https://github.com/armbian/linux-rockchip'
# 	declare -g KERNEL_MAJOR_MINOR="6.1" # Major and minor versions of this kernel.
# 	declare -g KERNELBRANCH="branch:rk-6.1-rkr1"
# 	display_alert "Setting up kernel ${KERNEL_MAJOR_MINOR} for" "${BOARD}" "info"
# }

function post_family_tweaks__preset_configs() {
	display_alert "$BOARD" "preset configs for rootfs" "info"
	# Set PRESET_NET_CHANGE_DEFAULTS to 1 to apply any network related settings below
	echo "PRESET_NET_CHANGE_DEFAULTS=1" > "${SDCARD}"/root/.not_logged_in_yet

	# Enable WiFi or Ethernet.
	#      NB: If both are enabled, WiFi will take priority and Ethernet will be disabled.
	# echo "PRESET_NET_ETHERNET_ENABLED=0" >> "${SDCARD}"/root/.not_logged_in_yet
	# echo "PRESET_NET_WIFI_ENABLED=1" >> "${SDCARD}"/root/.not_logged_in_yet

	# Preset user default shell, you can choose bash or zsh
	echo "PRESET_USER_SHELL=bash" >> "${SDCARD}"/root/.not_logged_in_yet

	# Set PRESET_CONNECT_WIRELESS=y if you want to connect wifi manually at first login
	echo "PRESET_CONNECT_WIRELESS=n" >> "${SDCARD}"/root/.not_logged_in_yet

	# Set SET_LANG_BASED_ON_LOCATION=n if you want to choose "Set user language based on your location?" with "n" at first login
	echo "SET_LANG_BASED_ON_LOCATION=y" >> "${SDCARD}"/root/.not_logged_in_yet

	# Preset default locale
	echo "PRESET_LOCALE=zh_CN.UTF-8" >> "${SDCARD}"/root/.not_logged_in_yet

	# Preset timezone
	echo "PRESET_TIMEZONE=Asia/Shanghai" >> "${SDCARD}"/root/.not_logged_in_yet

	# Preset root password
	echo "PRESET_ROOT_PASSWORD=admin" >> "${SDCARD}"/root/.not_logged_in_yet

	# Preset username
	echo "PRESET_USER_NAME=roymark" >> "${SDCARD}"/root/.not_logged_in_yet

	# Preset user password
	echo "PRESET_USER_PASSWORD=123456" >> "${SDCARD}"/root/.not_logged_in_yet

	# Preset user default realname
	echo "PRESET_DEFAULT_REALNAME=Roymark" >> "${SDCARD}"/root/.not_logged_in_yet
}
